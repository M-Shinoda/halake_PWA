<html>
<head>
  <!-- manifest.jsonを呼び出しています(ここから) -->
  <link rel="manifest" href="./manifest.json">
  <script>
    // service workerが有効なら、service-worker.js を登録します
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./service-worker.js').then(function() { console.log('Service Worker Registered'); });
   }
  </script>
  <!-- ここまで必須 -->
  <meta charset="utf-8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="HaLaKe PWAv2">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <link rel="apple-touch-icon" href="img/halake_logo120.png" sizes="120x120">
  <link rel="apple-touch-icon" href="img/halake_logo192.png" sizes="192x192">

  <!-- Onsen UI 2 -->
  <link rel="stylesheet" href="OnsenUI-dist-2.11.1/css/onsenui.css" />
  <link rel="stylesheet" href="OnsenUI-dist-2.11.1/css/onsen-css-components.css" />
  <script src="OnsenUI-dist-2.11.1/js/onsenui.min.js"></script>

  <script>
    window.fn = {};

    window.fn.open = function() {
    var menu = document.getElementById('menu');
    menu.open();
    };

    window.fn.load = function(page) {
    var content = document.getElementById('content');
    var menu = document.getElementById('menu');
    content.load(page)
        .then(menu.close.bind(menu));
    };
</script>

  <title>Hello PWA.</title>
  <style>
    /* body {
      text-align:center;
      font-size: 5vmin;
      vertical-align: middle;
    } */
  </style>
  <!-- <link rel="stylesheet" type="text/css" href="halake.css"> -->
</head>
<body>
  <ons-splitter>
    <ons-splitter-side id="menu" side="left" width="220px" collapse swipeable>
      <ons-page>
        <ons-list>
          <ons-list-item onclick="fn.load('home.html')" tappable>
            Home
          </ons-list-item>
          <ons-list-item onclick="fn.load('calc.html')" tappable>
            calc
          </ons-list-item>
          <ons-list-item onclick="fn.load('about.html')" tappable>
            About
          </ons-list-item>
        </ons-list>
      </ons-page>
    </ons-splitter-side>
    <ons-splitter-content id="content" page="home.html"></ons-splitter-content>
  </ons-splitter>
  
  <!-- 各遷移先ページここから -->
  <template id="home.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Main
        </div>
      </ons-toolbar>
      <p style="text-align: center; opacity: 0.6; padding-top: 20px;">
        Swipe right to open the menu!
      </p>
    </ons-page>
  </template>
  
  <template id="calc.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Settings
        </div>
      </ons-toolbar>
      <p style="text-align: center; opacity: 0.6; padding-top: 20px;">
        calc!!!
      </p>
      <input type="text" id="result">
      <div>
        <input type="button" value="1" onclick="edit(this)">
        <input type="button" value="2" onclick="edit(this)">
        <input type="button" value="3" onclick="edit(this)">
        <input type="button" value="+" onclick="edit(this)">
      </div>
      <div>
        <input type="button" value="4" onclick="edit(this)">
        <input type="button" value="5" onclick="edit(this)">
        <input type="button" value="6" onclick="edit(this)">
        <input type="button" value="-" onclick="edit(this)">
      </div>
      <div>
        <input type="button" value="7" onclick="edit(this)">
        <input type="button" value="8" onclick="edit(this)">
        <input type="button" value="9" onclick="edit(this)">
        <input type="button" value="/" onclick="edit(this)">
      </div>
      <div>
        <input type="button" value="0" onclick="edit(this)">
        <input type="button" value="." onclick="edit(this)">
        <input type="button" value="*" onclick="edit(this)">
        <input type="button" value="=" onclick="calc()">
      </div>
      <script language="javascript" type="text/javascript">
        var result = document.getElementById("result");
        function edit(elem) {
          result.value = result.value + elem.value;
        }
        function calc() {
          result.value = new Function("return " + result.value)();
        }
      </script>
    </ons-page>
  </template>
  
  <template id="about.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          About
        </div>
      </ons-toolbar>
    </ons-page>
  </template>
  <!-- 各遷移先ページここまで -->
</body>
</html>